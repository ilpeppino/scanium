{
  "generated_at": "2025-12-30T00:00:00Z",
  "grafana_url": "http://localhost:3000",
  "note": "Sample inventory based on configuration analysis. Re-run inventory-telemetry.sh with live stack for actual data.",
  "datasources": [
    {
      "name": "Loki",
      "type": "loki",
      "uid": "LOKI",
      "url": "http://loki:3100",
      "isDefault": false
    },
    {
      "name": "Tempo",
      "type": "tempo",
      "uid": "TEMPO",
      "url": "http://tempo:3200",
      "isDefault": false
    },
    {
      "name": "Mimir",
      "type": "prometheus",
      "uid": "MIMIR",
      "url": "http://mimir:9009/prometheus",
      "isDefault": true
    }
  ],
  "metrics": {
    "available": true,
    "metric_count": 0,
    "expected_metrics": {
      "backend_http": {
        "description": "HTTP metrics from OpenTelemetry-instrumented backend",
        "expected_metric": "http_server_request_duration_seconds",
        "expected_labels": [
          "service_name",
          "deployment_environment",
          "http_request_method",
          "http_route",
          "http_response_status_code"
        ],
        "note": "Available when backend is running and sending telemetry via OTLP"
      },
      "pipeline_self_observability": {
        "description": "Metrics from Alloy scraping LGTM components",
        "source_label": "pipeline",
        "expected_metrics": [
          "up",
          "process_cpu_seconds_total",
          "process_resident_memory_bytes",
          "otelcol_receiver_accepted_log_records",
          "otelcol_receiver_accepted_metric_points",
          "otelcol_receiver_accepted_spans",
          "otelcol_exporter_sent_log_records",
          "otelcol_exporter_sent_metric_points",
          "otelcol_exporter_sent_spans",
          "otelcol_exporter_send_failed_log_records",
          "otelcol_exporter_send_failed_metric_points",
          "otelcol_exporter_send_failed_spans",
          "otelcol_exporter_queue_size",
          "otelcol_exporter_queue_capacity",
          "loki_ingester_memory_streams",
          "loki_request_duration_seconds_count",
          "tempo_ingester_live_traces",
          "tempo_request_duration_seconds_count",
          "cortex_ingester_memory_series",
          "cortex_request_duration_seconds_count"
        ],
        "jobs": [
          "alloy",
          "loki",
          "tempo",
          "mimir"
        ]
      },
      "mobile_app": {
        "description": "Metrics from Scanium mobile app via OTLP",
        "source_label": "scanium-mobile",
        "expected_labels": [
          "source",
          "env",
          "platform",
          "app_version"
        ],
        "note": "Available when mobile app is connected and sending telemetry"
      }
    },
    "labels": {
      "pipeline_metrics": [
        "__name__",
        "job",
        "instance",
        "source",
        "env"
      ]
    }
  },
  "logs": {
    "available": true,
    "expected_labels": {
      "from_alloy_external_labels": {
        "source": [
          "scanium-mobile",
          "scanium-backend"
        ],
        "env": [
          "dev",
          "stage",
          "prod"
        ]
      },
      "from_otel_resource_attributes": {
        "service_name": "Service name from OTLP resource attributes",
        "deployment_environment": "Environment from OTLP resource attributes"
      },
      "expected_json_fields": {
        "level": [
          "debug",
          "info",
          "warn",
          "error",
          "fatal"
        ],
        "error_message": "Error message text for error logs",
        "trace_id": "Trace correlation ID",
        "event_name": "Event type (for mobile logs)"
      }
    },
    "label_values": {
      "source": [
        "scanium-mobile",
        "scanium-backend"
      ],
      "env": [
        "dev"
      ]
    }
  },
  "traces": {
    "available": true,
    "expected_attributes": {
      "resource_attributes": [
        "service.name",
        "deployment.environment",
        "telemetry.sdk.language",
        "telemetry.sdk.name",
        "telemetry.sdk.version"
      ],
      "span_attributes": [
        "http.method",
        "http.route",
        "http.status_code",
        "http.url",
        "db.system",
        "db.statement"
      ]
    },
    "metrics_generator": {
      "enabled": true,
      "exports_to": "http://mimir:9009/api/v1/push",
      "processors": [
        "service_graphs",
        "span_metrics"
      ],
      "expected_metrics": [
        "traces_spanmetrics_latency",
        "traces_spanmetrics_calls_total"
      ]
    }
  },
  "dashboards": [
    {
      "uid": "scanium-system-overview",
      "title": "Scanium - System Overview (RED)",
      "tags": [
        "scanium",
        "red",
        "overview",
        "backend"
      ]
    },
    {
      "uid": "scanium-backend-api-perf",
      "title": "Scanium - Backend API Performance",
      "tags": [
        "scanium",
        "backend",
        "api",
        "performance"
      ]
    },
    {
      "uid": "scanium-backend-errors",
      "title": "Scanium - Backend Errors",
      "tags": [
        "scanium",
        "backend",
        "errors"
      ]
    },
    {
      "uid": "scanium-logs-explorer",
      "title": "Scanium - Logs Explorer",
      "tags": [
        "scanium",
        "logs",
        "loki"
      ]
    },
    {
      "uid": "scanium-traces-drilldown",
      "title": "Scanium - Traces Drilldown",
      "tags": [
        "scanium",
        "traces",
        "tempo"
      ]
    },
    {
      "uid": "scanium-lgtm-health",
      "title": "Scanium - LGTM Stack Health",
      "tags": [
        "scanium",
        "lgtm",
        "infrastructure",
        "health"
      ]
    },
    {
      "uid": "scanium-ops-overview",
      "title": "Scanium - Ops Overview (Mobile)",
      "tags": [
        "scanium",
        "mobile",
        "overview"
      ]
    },
    {
      "uid": "scanium-app-health",
      "title": "Scanium - App Health (Mobile)",
      "tags": [
        "scanium",
        "mobile",
        "health"
      ]
    },
    {
      "uid": "scanium-scan-performance",
      "title": "Scanium - Scan Performance (Mobile)",
      "tags": [
        "scanium",
        "mobile",
        "performance"
      ]
    },
    {
      "uid": "scanium-errors",
      "title": "Scanium - Errors (Mobile)",
      "tags": [
        "scanium",
        "mobile",
        "errors"
      ]
    },
    {
      "uid": "scanium-pipeline-health",
      "title": "Scanium - Pipeline Health",
      "tags": [
        "scanium",
        "pipeline",
        "health"
      ]
    }
  ]
}
